<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:pe="http://primefaces.org/ui/extensions">
<!-- EXAMPLE-SOURCE-START -->
<p:dataTable id="groupingTable" var="sale" value="#{groupedTableController.mobileList}">
    <f:facet name="header">
        <h:outputText value="Sales/Profits of Mobile Manufacturers"/>
    </f:facet>

    <p:columnGroup type="header">
        <p:row>
            <p:column rowspan="3" headerText="Manufacturer"/>
            <p:column colspan="8" headerText="Sales"/>
        </p:row>

        <p:row>
            <p:column colspan="4" headerText="Sales Report"/>
            <p:column colspan="4" headerText="Profit Report"/>
        </p:row>

        <p:row>
            <p:column headerText="First Quarter"/>
            <p:column headerText="Second Quarter"/>
            <p:column headerText="Third Quarter"/>
            <p:column headerText="Fourth Quarter"/>

            <p:column headerText="First Quarter"/>
            <p:column headerText="Second Quarter"/>
            <p:column headerText="Third Quarter"/>
            <p:column headerText="Fourth Quarter"/>
        </p:row>
    </p:columnGroup>

    <p:column>
        <h:outputText value="#{sale.manufacturer}"/>
    </p:column>

    <p:column>
        <h:outputText value="#{sale.q1Sale}"/>
    </p:column>

    <p:column>
        <h:outputText value="#{sale.q2Sale}"/>
    </p:column>

    <p:column>
        <h:outputText value="#{sale.q3Sale}"/>
    </p:column>

    <p:column>
        <h:outputText value="#{sale.q4Sale}"/>
    </p:column>

    <p:column>
        <h:outputText value="#{sale.q1Profit}"/>
    </p:column>

    <p:column>
        <h:outputText value="#{sale.q2Profit}"/>
    </p:column>

    <p:column>
        <h:outputText value="#{sale.q3Profit}"/>
    </p:column>

    <p:column>
        <h:outputText value="#{sale.q4Profit}"/>
    </p:column>

    <p:columnGroup type="footer">
        <p:row>
            <p:column colspan="1" style="text-align:right" footerText="Totals:"/>

            <p:column footerText="#{groupedTableController.q1TotSales}$"/>
            <p:column footerText="#{groupedTableController.q2TotSales}$"/>
            <p:column footerText="#{groupedTableController.q3TotSales}$"/>
            <p:column footerText="#{groupedTableController.q4TotSales}$"/>

            <p:column footerText="#{groupedTableController.q1TotProfit}$"/>
            <p:column footerText="#{groupedTableController.q2TotProfit}$"/>
            <p:column footerText="#{groupedTableController.q3TotProfit}$"/>
            <p:column footerText="#{groupedTableController.q4TotProfit}$"/>
        </p:row>
    </p:columnGroup>

    <f:facet name="footer">
        Use a bicycle instead of a car
    </f:facet>

</p:dataTable>

<p:spacer height="30"/>

<p:panel header="Export PDF and Excel">
    <p:commandLink id="pdf" ajax="false">
        <p:graphicImage value="/resources/images/pdf.png"/>
        <f:setPropertyActionListener value="false" target="#{exporterController.customExporter}" />
        <pe:exporter type="pdf" target="groupingTable" fileName="GroupedTable"/>

    </p:commandLink>

    <p:spacer height="20"/>

    <p:commandLink id="xls" ajax="false">
        <p:graphicImage value="/resources/images/excel.png"/>
        <f:setPropertyActionListener value="false" target="#{exporterController.customExporter}" />
        <pe:exporter type="xlsx" target="groupingTable" fileName="GroupedTable"/>

    </p:commandLink>
</p:panel>

<!-- EXAMPLE-SOURCE-END -->
</ui:composition>